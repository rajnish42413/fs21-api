"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const cors = require("cors");
const bodyParser = require("body-parser");
const dotenv = require("dotenv");
dotenv.config();
require("./extensions/express-response");
const app = express_1.Router();
app.use(cors());
const auth_1 = require("./middlewares/auth");
const loginController_1 = require("./controllers/auth/loginController");
const registerController_1 = require("./controllers/auth/registerController");
const locationController = require("./controllers/locationController");
const listingController = require("./controllers/listingController");
const workspaceController = require("./controllers/workspaceController");
const typeController = require("./controllers/typeControllers");
const AdminLocationController = require("./controllers/admin/locationController");
const AdminTypeController = require("./controllers/admin/typeControllers");
const AdminListingController = require("./controllers/admin/listingController");
const AdminPricingController = require("./controllers/admin/pricingsController");
const AdminWorkspaceController = require("./controllers/admin/workspaceController");
const AdminHomeController = require("./controllers/admin/homeController");
//import delete_item from "./controllers/removeController";
require("./db");
app.use(bodyParser.json());
app.post("/login", loginController_1.default);
app.post("/register", registerController_1.default);
app.get("/countries", locationController.countries);
app.get("/countries/:country/cities", locationController.cities);
app.get("/cities", locationController.cities);
app.get("/types", typeController.index);
app.get("/cities/:city/areas", locationController.areas);
app.get("/cities/:city/listings", listingController.showCityListings);
app.get("/listings", listingController.index);
app.get("/listings/:listing", listingController.show);
app.get("/workspaces", workspaceController.index);
app.get("/workspaces/:workspace", workspaceController.show);
// user routes
app.use(auth_1.default);
// admin routes
// app.use(authMiddleware);
app.get("/admin/countries", AdminLocationController.countries);
app.get("/admin/countries/:country/cities", AdminLocationController.cities);
app.get("/admin/required-data", AdminHomeController.index);
app.get("/admin/cities", AdminLocationController.cities);
app.post("/admin/cities", AdminLocationController.storeCity);
app.put("/admin/cities/:city", AdminLocationController.cityUpdate);
app.get("/admin/types", AdminTypeController.index);
app.put("/admin/types/:type", AdminTypeController.update);
app.delete("/admin/types/:type", AdminTypeController.remove);
app.post("/admin/types", AdminTypeController.store);
app.get("/admin/cities/:city/areas", AdminLocationController.areas);
app.post("/admin/cities/:city/areas", AdminLocationController.storeArea);
app.get("/admin/listings", AdminListingController.index);
app.post("/admin/listings", AdminListingController.store);
app.post("/admin/listings/create", AdminListingController.store);
app.get("/admin/listings/:listing", AdminListingController.show);
app.post("/admin/listings/:listing/update", AdminListingController.update);
app.post("/admin/listings/:listing/pricings", AdminPricingController.create);
app.delete("/admin/listings/:listing/pricings/:pricing", AdminPricingController.remove);
app.post("/admin/listings/:listing/open-hours", AdminListingController.updateOpenHours);
app.get("/admin/workspaces", AdminWorkspaceController.index);
app.post("/admin/workspaces", AdminWorkspaceController.store);
app.post("/admin/workspaces/:workspace/update", AdminWorkspaceController.update);
app.get("/admin/workspaces/:workspace", AdminWorkspaceController.show);
exports.default = (expApp) => {
    return app;
};
//# sourceMappingURL=index.js.map